<div class="row form-group">
    <div class="col-sm-6">
        <label>Vendor Style Number</label>
        <%= form.text_field :vendor_style_number, class: 'form-control', :required => true %>
    </div>
    <div class="col-sm-6">
        <label>Quantity</label>
        <%= form.number_field :quantity, step: '1', placeholder: '150', :class => 'form-control' %>
    </div>
</div>
<div class="row form-group"> 
    <div class="col-sm-6">
        <label>Status</label>
        <%= form.select :status, options_for_select( Style.statuses.map{ |k,v| [k.humanize, k] }, @style.status), { }, class: 'form-control' %>
    </div>
    <div class="col-sm-6">
        <label>Delivery Date</label>
        <%= form.text_field :delivery_date, :class => 'form-control' %>
    </div>
</div>
<div class="row form-group"> 
    <div class="col-sm-4">
        <label>Wholesale Cost</label>
        <%= form.number_field :wholesale_cost, step: '.01', placeholder: '26.99', :class => 'form-control' %>
    </div>
    <div class="col-sm-4">
        <label>Negotiated Cost</label>
        <%= form.number_field :negotiated_cost, step: '.01', placeholder: '25.01', :class => 'form-control' %>
    </div>
    <div class="col-sm-4">
        <label>Retail Price</label>
        <%= form.number_field :retail_price, step: '.01', placeholder: '100.00', :class => 'form-control' %>
    </div>
</div>
<div class="row form-group">
    <div class="col-sm-4">
        <label>IMU:</label>
        <span id="imu-data-display">
            N/A
        </span>
    </div>
    <div class="col-sm-4">
        <label>Exclusive?</label>
        <%= form.check_box :exclusive %>
    </div>
</div>
<div class="row form-group"> 
    <div class="col-sm-6">
        <label>Color</label>
        <%= form.text_field :color, :class => 'form-control' %>
    </div>
    <div class="col-sm-6">
        <label>Category</label>
        <%= form.select :category_name, options_for_select( Category.all.map{ |c| [c.display_name, c.name ] }, @style.category_name), { }, class: 'form-control' %>
    </div>
</div>
<div class="row form-group"> 
    <div class="col-sm-12">
        <label>Notes</label>
        <%= form.text_area :notes, :class => 'form-control' %>
    </div>
</div>
<div class="row form-group">
  <div class="col-sm-6 field">
    <div class="input-group">
        <label class="input-group-btn">
            <span class="btn btn-success">
                Find Photo 
                    <%= form.file_field :photo, type: 'file', style: "display: none" %>
            </span>
        </label>
        <input type="text" class="form-control" readonly>
    </div>
  </div>
</div>
<div class="half-wide">
    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
</div>
<div class="form-group half-wide text-right">
    <%= form.submit 'Submit Style', class: 'btn btn-primary' %>
</div>

<script>
$(document).ready(function() {
    $( "#style_delivery_date" ).datepicker({
          dateFormat: "yy-mm-dd"
    });

     bind_imu_calculator();

    // Getting the filename to show up in the input field

    $(function() {

      // We can attach the `fileselect` event to all file inputs on the page
      $(document).on('change', ':file', function() {
        var input = $(this),
            numFiles = input.get(0).files ? input.get(0).files.length : 1,
            label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
        input.trigger('fileselect', [numFiles, label]);
      });

      // We can watch for our custom `fileselect` event like this
      $(document).ready( function() {
          $(':file').on('fileselect', function(event, numFiles, label) {

              var input = $(this).parents('.input-group').find(':text'),
                  log = numFiles > 1 ? numFiles + ' files selected' : label;

              if( input.length ) {
                  input.val(log);
              } else {
                  if( log ) alert(log);
              }

          });
      });
      
    });


  });



</script>

